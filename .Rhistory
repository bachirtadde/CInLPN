)
library(CInLPN)
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
library(CInLPN)
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
Delta <- 0.5
paras.ini <- c(0.000,0.065, 0.000, 0.168, -0.054, 0.000, -0.119, -0.009, 1.000, 0.000,
0.473, 0.000, 1.000, 0.000, 0.057, -0.182, 0.000, 0.174, -0.523, 0.000,
0.000, 0.000, 0.073, 0.083, 0.119,  0.106, 0.015,  0.157,  0.054, 0.087,
-0.079, 0.000, 0.000, 0.000, 8.876, 0.287, 0.546, 0.531, 0.256, 1.100,
1.891,  0.846, 1.345)
indexparaFixeUser <- c(1,3, 8+c(1, 2, 4, 5, 6, 9,10+c(2:4,14:16)))
paraFixeUser <- c(0, 0, 1, 0, 0, 1, 0, 0, rep(0,6))
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
#if spline specification
bs <- grep(pattern = "bs(*)", x = predictors)
predictors
predictors
source('~/GitHub/CInLPN/R/CInLPN.formula.R')
Delta <- 0.5
paras.ini <- c(0.000,0.065, 0.000, 0.168, -0.054, 0.000, -0.119, -0.009, 1.000, 0.000,
0.473, 0.000, 1.000, 0.000, 0.057, -0.182, 0.000, 0.174, -0.523, 0.000,
0.000, 0.000, 0.073, 0.083, 0.119,  0.106, 0.015,  0.157,  0.054, 0.087,
-0.079, 0.000, 0.000, 0.000, 8.876, 0.287, 0.546, 0.531, 0.256, 1.100,
1.891,  0.846, 1.345)
indexparaFixeUser <- c(1,3, 8+c(1, 2, 4, 5, 6, 9,10+c(2:4,14:16)))
paraFixeUser <- c(0, 0, 1, 0, 0, 1, 0, 0, rep(0,6))
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
debugSource('~/GitHub/CInLPN/R/CInLPN.default.R')
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
library(CInLPN)
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
library(CInLPN)
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
library(CInLPN)
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
debugSource('~/GitHub/CInLPN/R/CInLPN.default.R')
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
DataDiscretization
data <- DataDiscretization(rdata=rdata, subject = subject, outcomes = outcomes, predictors = predictors,
Time = Time, Delta = DeltaT)
debugSource('~/GitHub/CInLPN/R/DataDiscretization.R')
debugSource('~/GitHub/CInLPN/R/DataDiscretization.R')
library(CInLPN)
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
T_k <- data.frame(T_k)
T_k
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
K
k
k=2
data_k
data2
data_k <- na.omit(data2[,c(subject, outcomes[k], predictors, nameTks[k])])
# changing the name of T_i colname into T for the merging
colname <- colnames(data_k)
# colname[which(colname==nameTks[k])] <- paste(Time[1],"d", sep = "_")
colname[which(colname==nameTks[k])] <- Time[1]
colnames(data_k) <- colname
data3 <- merge(data3,data_k, by=c(subject,predictors,Time[1]), all.x = TRUE, all.y = TRUE)
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
k=2
head(data3)
library(CInLPN)
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
head(data3)
library(CInLPN)
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
predictors
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
library(CInLPN)
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
library(splines)
Delta <- 0.5
paras.ini <- c(0.000,0.065, 0.000, 0.168, -0.054, 0.000, -0.119, -0.009, 1.000, 0.000,
0.473, 0.000, 1.000, 0.000, 0.057, -0.182, 0.000, 0.174, -0.523, 0.000,
0.000, 0.000, 0.073, 0.083, 0.119,  0.106, 0.015,  0.157,  0.054, 0.087,
-0.079, 0.000, 0.000, 0.000, 8.876, 0.287, 0.546, 0.531, 0.256, 1.100,
1.891,  0.846, 1.345)
indexparaFixeUser <- c(1,3, 8+c(1, 2, 4, 5, 6, 9,10+c(2:4,14:16)))
paraFixeUser <- c(0, 0, 1, 0, 0, 1, 0, 0, rep(0,6))
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
### example 2
library(CInLPN)
library(splines)
paras.ini <- c(0.000,0.065, 0.000, 0.168, -0.054, 0.000, -0.119, -0.009, 1.000, 0.000,
0.473, 0.000, 1.000, 0.000, 0.057, -0.182, 0.000, 0.174, -0.523, 0.000,
0.000, 0.000, 0.073, 0.083, 0.119,  0.106, 0.015,  0.157,  0.054, 0.087,
-0.079, 0.000, 0.000, 0.000, 8.876, 0.287, 0.546, 0.531, 0.256, 1.100,
1.891,  0.846, 1.345)
indexparaFixeUser <- c(1,3, 8+c(1, 2, 4, 5, 6, 9,10+c(2:4,14:16)))
paraFixeUser <- c(0, 0, 1, 0, 0, 1, 0, 0, rep(0,6))
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
predictors
paras.ini <- c(0.000,0.065, 0.000, 0.168, -0.054, 0.000, -0.119, -0.009, 1.000, 0.000,
0.473, 0.000, 1.000, 0.000, 0.057, -0.182, 0.000, 0.174, -0.523, 0.000,
0.000, 0.000, 0.073, 0.083, 0.119,  0.106, 0.015,  0.157,  0.054, 0.087,
-0.079, 0.000, 0.000, 0.000, 8.876, 0.287, 0.546, 0.531, 0.256, 1.100,
1.891,  0.846, 1.345)
indexparaFixeUser <- c(1,3, 8+c(1, 2, 4, 5, 6, 9,10+c(2:4,14:16)))
paraFixeUser <- c(0, 0, 1, 0, 0, 1, 0, 0, rep(0,6))
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
paras.ini <- c(0.000,0.065, 0.000, 0.168, -0.054, 0.000, -0.119, -0.009, 1.000, 0.000,
0.473, 0.000, 1.000, 0.000, 0.057, -0.182, 0.000, 0.174, -0.523, 0.000,
0.000, 0.000, 0.073, 0.083, 0.119,  0.106, 0.015,  0.157,  0.054, 0.087,
-0.079, 0.000, 0.000, 0.000, 8.876, 0.287, 0.546, 0.531, 0.256, 1.100,
1.891,  0.846, 1.345)
indexparaFixeUser <- c(1,3, 8+c(1, 2, 4, 5, 6, 9,10+c(2:4,14:16)))
paraFixeUser <- c(0, 0, 1, 0, 0, 1, 0, 0, rep(0,6))
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
paras.ini <- c(0.000,0.065, 0.000, 0.168, -0.054, 0.000, -0.119, -0.009, 1.000, 0.000,
0.473, 0.000, 1.000, 0.000, 0.057, -0.182, 0.000, 0.174, -0.523, 0.000,
0.000, 0.000, 0.073, 0.083, 0.119,  0.106, 0.015,  0.157,  0.054, 0.087,
-0.079, 0.000, 0.000, 0.000, 8.876, 0.287, 0.546, 0.531, 0.256, 1.100,
1.891,  0.846, 1.345)
indexparaFixeUser <- c(1,3, 8+c(1, 2, 4, 5, 6, 9,10+c(2:4,14:16)))
paraFixeUser <- c(0, 0, 1, 0, 0, 1, 0, 0, rep(0,6))
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
paras.ini <- c(0.000,0.065, 0.000, 0.168, -0.054, 0.000, -0.119, -0.009, 1.000, 0.000,
0.473, 0.000, 1.000, 0.000, 0.057, -0.182, 0.000, 0.174, -0.523, 0.000,
0.000, 0.000, 0.073, 0.083, 0.119,  0.106, 0.015,  0.157,  0.054, 0.087,
-0.079, 0.000, 0.000, 0.000, 8.876, 0.287, 0.546, 0.531, 0.256, 1.100,
1.891,  0.846, 1.345)
indexparaFixeUser <- c(1,3, 8+c(1, 2, 4, 5, 6, 9,10+c(2:4,14:16)))
paraFixeUser <- c(0, 0, 1, 0, 0, 1, 0, 0, rep(0,6))
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
paras.ini <- c(0.000,0.065, 0.000, 0.168, -0.054, 0.000, -0.119, -0.009, 1.000, 0.000,
0.473, 0.000, 1.000, 0.000, 0.057, -0.182, 0.000, 0.174, -0.523, 0.000,
0.000, 0.000, 0.073, 0.083, 0.119,  0.106, 0.015,  0.157,  0.054, 0.087,
-0.079, 0.000, 0.000, 0.000, 8.876, 0.287, 0.546, 0.531, 0.256, 1.100,
1.891,  0.846, 1.345)
indexparaFixeUser <- c(1,3, 8+c(1, 2, 4, 5, 6, 9,10+c(2:4,14:16)))
paraFixeUser <- c(0, 0, 1, 0, 0, 1, 0, 0, rep(0,6))
mod2 <- CInLPN(structural.model = list(fixed.LP0 = ~ 1 + C2 | 1 + C2,
fixed.DeltaLP = L1 + L2| L3  ~ 1 + time| 1 + time,
random.DeltaLP = ~ 1|1,
trans.matrix = ~ 1 + bs(x = time, knots =c(2),
intercept = F, degree = 2),
delta.time = Delta),
measurement.model = list(link.functions = list(links = c(NULL,NULL, NULL),
knots = list(NULL, NULL, NULL))),
parameters = list(paras.ini = paras.ini, Fixed.para.index = indexparaFixeUser,
Fixed.para.values = paraFixeUser),
option = list(nproc = 2, print.info = TRUE, mekepred = TRUE, MCnr = 10,
univarmaxiter = 7, epsa = 1e-5, epsb = 1e-4, epsd = 1e-2),
Time = "time",
subject = "id",
data = data
)
library(CInLPN)
